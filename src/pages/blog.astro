---
import { getCollection } from "astro:content";
import BaseLayout from '../layouts/BaseLayout.astro'
import BlogCard from '../components/BlogCard.astro';

const allPosts = await getCollection("blog")
allPosts.sort((a, b) => {
  const dateA = new Date(a.data.pubDate).getTime();
  const dateB = new Date(b.data.pubDate).getTime();
  return dateB - dateA;
});
---

<BaseLayout>
  <div class="blog-list-container">
    <ul class="blog-list">
        {
        allPosts.map((post) => (
          <BlogCard url={`/posts/${post.id}`} title={post.data.title} />
        ))
        }
    </ul>
  </div>

</BaseLayout>

<style>
  .blog-list-container {
    min-height: 12vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .blog-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    text-align: center;
  }
</style>